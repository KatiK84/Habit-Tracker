<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#111111" />
  <link rel="manifest" href="manifest.webmanifest" />
  <link rel="icon" href="icon-192.png" />
  <link rel="stylesheet" href="styles.css" />
  <title>–¢—Ä–µ–∫–∫–µ—Ä –ø—Ä–∏–≤—ã—á–µ–∫</title>
</head>
<body>
  <header class="topbar">
    <div class="title">
      <div class="logo">‚úÖ</div>
      <div>
        <div class="h1">–¢—Ä–µ–∫–∫–µ—Ä –ø—Ä–∏–≤—ã—á–µ–∫</div>
        <div class="sub" id="subtitle">–°–µ–≥–æ–¥–Ω—è</div>
      </div>
    </div>
    <div class="actions">
      <button id="settingsBtn" class="btn">‚öôÔ∏è</button>
      <button id="addHabitBtn" class="btn primary">+ –ü—Ä–∏–≤—ã—á–∫–∞</button>
    </div>
  </header>

  <main class="container">
    <nav class="tabs">
      <button class="tab active" data-tab="today">–°–µ–≥–æ–¥–Ω—è</button>
      <button class="tab" data-tab="habits">–ü—Ä–∏–≤—ã—á–∫–∏</button>
      <button class="tab" data-tab="stats">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
    </nav>

    <section id="view" class="view"></section>

    <section class="footerNote">
      <div class="note">–î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ —ç—Ç–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ (–±–µ–∑ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏).</div>
    </section>
  </main>

  <!-- Habit modal -->
  <div id="habitModal" class="modal hidden" role="dialog" aria-modal="true">
    <div class="modalCard">
      <div class="modalHeader">
        <div class="modalTitle" id="habitModalTitle">–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–≤—ã—á–∫—É</div>
        <button class="iconBtn" id="habitCloseBtn" aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
      </div>
      <form id="habitForm" class="form">
        <label class="field">
          <span>–ù–∞–∑–≤–∞–Ω–∏–µ</span>
          <input id="habitName" class="input" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä: –í–æ–¥–∞" required />
        </label>

        <label class="field">
          <span>–≠–º–æ–¥–∑–∏ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</span>
          <input id="habitEmoji" class="input" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä: üíß" />
        </label>

        <label class="field">
          <span>–¢–∏–ø</span>
          <select id="habitType" class="select">
            <option value="check">–ß–µ–∫–±–æ–∫—Å (1 —Ä–∞–∑ –≤ –¥–µ–Ω—å)</option>
            <option value="count">–°—á—ë—Ç—á–∏–∫ (0‚Ä¶—Ü–µ–ª—å)</option>
          </select>
        </label>

        <label class="field" id="goalField">
          <span>–¶–µ–ª—å (–¥–ª—è —Å—á—ë—Ç—á–∏–∫–∞)</span>
          <input id="habitGoal" type="number" min="1" step="1" class="input" value="8" />
        </label>

        <fieldset class="fieldset">
          <legend>–ê–∫—Ç–∏–≤–Ω—ã–µ –¥–Ω–∏</legend>
          <div class="dow">
            <label><input type="checkbox" class="dowChk" value="1" checked>–ü–Ω</label>
            <label><input type="checkbox" class="dowChk" value="2" checked>–í—Ç</label>
            <label><input type="checkbox" class="dowChk" value="3" checked>–°—Ä</label>
            <label><input type="checkbox" class="dowChk" value="4" checked>–ß—Ç</label>
            <label><input type="checkbox" class="dowChk" value="5" checked>–ü—Ç</label>
            <label><input type="checkbox" class="dowChk" value="6">–°–±</label>
            <label><input type="checkbox" class="dowChk" value="0">–í—Å</label>
          </div>
        </fieldset>

        <div class="formActions">
          <button type="button" id="habitDeleteBtn" class="btn danger hidden">–£–¥–∞–ª–∏—Ç—å</button>
          <button type="button" id="habitCancelBtn" class="btn">–û—Ç–º–µ–Ω–∞</button>
          <button type="submit" class="btn primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
        <input id="habitEditingId" type="hidden" />
      </form>
    </div>
  </div>

  <!-- Settings modal -->
  <div id="settingsModal" class="modal hidden" role="dialog" aria-modal="true">
    <div class="modalCard">
      <div class="modalHeader">
        <div class="modalTitle">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
        <button class="iconBtn" id="settingsCloseBtn" aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
      </div>
      <div class="form">
        <div class="settingRow">
          <div>
            <div class="settingTitle">PIN-–∫–æ–¥</div>
            <div class="settingDesc">–ï—Å–ª–∏ –≤–∫–ª—é—á—ë–Ω ‚Äî –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ—Å–∏—Ç PIN –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏.</div>
          </div>
          <button id="pinActionBtn" class="btn primary">–ù–∞—Å—Ç—Ä–æ–∏—Ç—å</button>
        </div>

        <div class="settingRow">
          <div>
            <div class="settingTitle">–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö</div>
            <div class="settingDesc">–°–∫–∞—á–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é (JSON).</div>
          </div>
          <button id="exportBtn" class="btn">–≠–∫—Å–ø–æ—Ä—Ç</button>
        </div>

        <div class="settingRow">
          <div>
            <div class="settingTitle">–ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö</div>
            <div class="settingDesc">–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ JSON (–ø–µ—Ä–µ–∑–∞–ø–∏—à–µ—Ç —Ç–µ–∫—É—â–µ–µ).</div>
          </div>
          <label class="btn fileBtn">
            –ò–º–ø–æ—Ä—Ç
            <input id="importFile" type="file" accept="application/json" />
          </label>
        </div>

        <div class="formActions">
          <button type="button" id="settingsDoneBtn" class="btn primary">–ì–æ—Ç–æ–≤–æ</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Lock -->
  <div id="lock" class="lock hidden">
    <div class="lockCard">
      <div class="lockTitle">–í–≤–µ–¥–∏—Ç–µ PIN</div>
      <input id="pinInput" class="input" inputmode="numeric" pattern="[0-9]*" maxlength="8" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢" />
      <button id="pinUnlockBtn" class="btn primary">–û—Ç–∫—Ä—ã—Ç—å</button>
      <div id="pinError" class="lockError hidden">–ù–µ–≤–µ—Ä–Ω—ã–π PIN</div>
    </div>
  </div>

  <!-- PIN modal -->
  <div id="pinModal" class="modal hidden" role="dialog" aria-modal="true">
    <div class="modalCard">
      <div class="modalHeader">
        <div class="modalTitle" id="pinModalTitle">PIN-–∫–æ–¥</div>
        <button class="iconBtn" id="pinCloseBtn" aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
      </div>

      <form id="pinForm" class="form">
        <div id="pinHasExisting" class="field hidden">
          <span>–¢–µ–∫—É—â–∏–π PIN</span>
          <input id="pinOld" class="input" inputmode="numeric" pattern="[0-9]*" maxlength="8" />
        </div>

        <label class="field">
          <span>–ù–æ–≤—ã–π PIN (4‚Äì8 —Ü–∏—Ñ—Ä)</span>
          <input id="pinNew" class="input" inputmode="numeric" pattern="[0-9]*" maxlength="8" required />
        </label>

        <label class="field">
          <span>–ü–æ–≤—Ç–æ—Ä–∏ –Ω–æ–≤—ã–π PIN</span>
          <input id="pinNew2" class="input" inputmode="numeric" pattern="[0-9]*" maxlength="8" required />
        </label>

        <div class="formActions">
          <button type="button" id="pinDisableBtn" class="btn danger">–û—Ç–∫–ª—é—á–∏—Ç—å PIN</button>
          <button type="button" id="pinCancelBtn" class="btn">–û—Ç–º–µ–Ω–∞</button>
          <button type="submit" class="btn primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
      </form>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
